@using HäggesPizzeria.Services
@using Microsoft.AspNetCore.Mvc.Rendering
@using HäggesPizzeria.Models.IngredientViewModels
@model HäggesPizzeria.Models.OrderedDish
@inject HäggesPizzeria.Services.IngredientService IngredientService

@{
    ViewData["Title"] = "CartDishDetails";
}

<div class="col-md-6">
    <h2 class="text-center">Edit your dish</h2>
    <h3 class="text-center">@Model.Name</h3>
    <div id="dish-ingredients">
        @{
            Html.RenderPartial("_IngredientPartial", new IngedientDishViewModel
            {
                BaseDishId = Model.BashDishId,
                Ingredients = IngredientService.GetAllUsedIngredients(Model.Ingredients),
                IsOrderedDish = true
            });
        }
    </div>
    <div class="col-md-12">
        <a class="btn btn-success" asp-action="SaveDishIngredients" asp-route-guid="@Model.Guid">Save dish</a>
    </div>
</div>   

